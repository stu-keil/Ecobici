rnorm(100,0,1)
library(dplyr)
install.packages("dplyr")
install.packages("dplyr")
setRepositories()
R.version
install.packages("dplyr")
install.packages("dplyr")
install.packages('devtools')
install.packages('rgdal')
install.packages('shiny')
devtools::install_github("hrbrmstr/asam")
install.packages(c('leaflet','sp','dplyr'))
install.packages('rjson')
seq(2010,2015,1)
seq(01,12,1)
as.text(seq(01,12,1))
year <- seq(2010,2015,1)
month <- seq(01,12,1)
??string
toString(seq(01,12,1))
month <- sapply(seq(01,12,1),toString)
len(month)
nchar(month)
ifelse(nchar(month) == 1, paste0("0",month), month)
paste0(year,"-",month)
merge(year,month,all=TRUE)
merge(year,month,all=TRUE)[:1]
merge(year,month,all=TRUE)[,1]
files <- paste0(merge(year,month,all=TRUE)[,1],"-",merge(year,month,all=TRUE)[,2])
files
files <- paste0("https://www.ecobici.df.gob.mx/sites/default/files/data/usages/",merge(year,month,all=TRUE)[,1],"-",merge(year,month,all=TRUE)[,2])
files
datos <- read.csv('../../ecobiciestaciones.csv')
getwd()
setwd("~/itam2/graph4ds/Ecobici")
datos <- read.csv('ecobiciestaciones.csv')
datos <- read.csv('estaciones.csv')
glimpse(datos)
library(dplyr)
glimpse(datos)
dat <- bind_cols(filter(datos, lat= !is.na(lat), lon =  !is.na(lon)))
dat
writeOGR()
shape <- readShapePoints("./shp/.shp")
library(rgdal)
install.packages('rgdal')
install.packages(c('leaflet','sp','dplyr'))
install.packages(c("leaflet", "sp", "dplyr"))
?SpatialPointsDataFrame
install.packages("RCurl")
install.packages('rgdal')
library(rgdal)
install.packages('rgdal')
library(rgdal)
shape <- readShapePoints("./shp/.shp")
mask <- readOGR(".", "Mask")
mask <- readOGR("../.././shp/", "Mask")
mask <- readOGR("../.././shp/Mask", "Mask")
getwd()
mask <- readOGR("/shp/", "Mask")
mask <- readOGR("./shp", "Mask")
calles <- readOGR("./shp", "CallesMask")
colonias <- readOGR("./shp", "ColoniasDF")
print(proj4string(colonias))
plot(colonias, axes=TRUE, border="gray")
coords = cbind(dat$longitud, dat$latitud)
sp = SpatialPoints(coords)
coords
cbind(dat$longitud, dat$latitud)
dat <- bind_cols(filter(datos, lat= !is.na(lat), lon =  !is.na(lon)))
library(dplyr)
dat <- bind_cols(filter(datos, lat= !is.na(lat), lon =  !is.na(lon)))
bind_cols(filter(datos, lat= !is.na(lat), lon =  !is.na(lon)))
dat <- bind_cols(filter(datos, lat= !is.na(lat), lon =  !is.na(lon)))
sp = SpatialPoints(coords)
coords = cbind(dat$longitud, dat$latitud)
sp = SpatialPoints(coords)
coords
coords = cbind(dat$lon, dat$lat)
sp = SpatialPoints(coords)
spdf = SpatialPointsDataFrame(coords, dat)
dat
?SpatialPointsDataFrame
coordinates(dat) = ~dat$longitud + dat$latitud
points(dat$longitud, dat$latitud, col = dat$delegacion, cex = .6)
head(colonias@data)
plot(colonias)
plot(mask, axes=TRUE, border="gray")
plot(colonias)
lines(calles, axes=TRUE)
plot(mask, axes=TRUE, border="gray")
lines(calles, axes=TRUE)
points(dat$longitud, dat$latitud, col =c(1,2),pch=19,  cex = 1.5)
dat$longitud
points(dat$lon, dat$lat, col =c(1,2),pch=19,  cex = 1.5)
dir()
dir(./shp)
dir("./shp")
?grep
?grep("*.shp",dir("./shp"))
grep("*.shp",dir("./shp"))
dir("./shp")[grep("*.shp",dir("./shp"))]
mask <- readOGR("./shp", "Mask_2016")
calles <- readOGR("./shp", "Calles_2016_Mask")
plot(mask, axes=TRUE, border="gray")
lines(calles, axes=TRUE)
points(dat$lon, dat$lat, col =c(1,2),pch=19,  cex = 1.5)
mask <- readOGR("./shp", "Mask_2016")
plot(mask, axes=TRUE, border="gray")
lines(calles, axes=TRUE)
points(dat$lon, dat$lat, col =c(1,2),pch=19,  cex = 1.5)
plot(mask, axes=TRUE, border="gray")
lines(calles, axes=TRUE)
points(dat$lon, dat$lat, col =c(1,2),pch=19,  cex = 1.5)
plot(mask, axes=TRUE, border="gray")
lines(calles, axes=TRUE)
points(dat$lon, dat$lat, col =c(1,2),pch=19,  cex = 0.5)
colores <- c("red","blue","green","orange","purple","yellow","black","grey")
plot(mask, axes=TRUE, border="gray")
lines(calles, axes=TRUE)
points(dat$lon, dat$lat, col =colores,pch=19,  cex = 0.5)
plot(mask, axes=TRUE, border="gray")
lines(calles, axes=TRUE)
points(dat$lon, dat$lat, col =c("red"),pch=19,  cex = 0.5)
legend('bottomleft', legend = c("Estaciones a 2016") ,
pch=19, col=c("red"), cex=
1)
year <- seq(2010,2015,1)
month <- sapply(seq(01,12,1),toString)
month <- ifelse(nchar(month) == 1, paste0("0",month), month)
merge(year,month,all=TRUE)
url <- paste0("https://www.ecobici.df.gob.mx/sites/default/files/data/usages/",merge(year,month,all=TRUE)[,1],"-",merge(year,month,all=TRUE)[,2],".csv")
??strin,""g
destfile <- paste0("merge(year,month,all=TRUE)[,1],"-",merge(year,month,all=TRUE)[,2],".csv")
destfile
destfile <- paste0(merge(year,month,all=TRUE)[,1],"-",merge(year,month,all=TRUE)[,2],".csv")
destfile
sapply(url,download.file,destfile=destfile,method='curl')
